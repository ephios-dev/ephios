{% extends "core/settings/settings_base.html" %}
{% load i18n %}

{% block title %}
    {% translate "Saved questionnaire answers" %}
{% endblock %}

{% block settings_content %}
    <h3>
        {% translate "Saved questionnaire answers" %}
    </h3>

    <ul class="list-group mb-3">
        {% for answer in savedanswer_list %}
            <li class="list-group-item">
                <div class="row mb-0 {% if not answer.question.use_saved_answers or answer.question.archived %}text-muted{% endif %}">
                    <div class="col-12 col-lg-5">
                        <h5 class="mb-0 d-inline">
                            {{ answer.question.name }}
                        </h5>
                        <br/>
                        <span class="text-muted">{{ answer.question.question_text }}</span>
                        {% if not answer.question.use_saved_answers or answer.question.archived%}
                            <br/>
                            <span class="badge bg-secondary">
                                {% translate "not used anymore" %}
                            </span>
                        {% endif %}
                    </div>
                    <div class="col-12 col-lg-5">
                        {{ answer.answer_text }}
                    </div>
                    <div class="col d-flex align-items-end align-items-lg-center justify-content-end">
                        <a class="btn btn-secondary btn-sm text-nowrap"
                           href="{% url "questionnaires:saved_answer_edit" answer.question.pk %}"><span
                            class="fa fa-edit"></span> <span
                                class="d-none d-md-inline">{% translate "Edit" %}</span></a>
                        <a class="btn btn-secondary btn-sm text-nowrap ms-1"
                           href="{% url "questionnaires:saved_answer_delete" answer.question.pk %}"><span
                            class="fa fa-trash-alt"></span> <span
                                class="d-none d-md-inline">{% translate "Delete" %}</span></a>
                    </div>
                </div>
            </li>
        {% empty %}
            <em>
                {% blocktranslate trimmed %}
                    You haven't answered a question during sign-up yet or decided to not save your answer for future
                    sign-ups. Once you save your first answer, you can view and edit it here.
                {% endblocktranslate %}
            </em>
        {% endfor %}
    </ul>
{% endblock %}

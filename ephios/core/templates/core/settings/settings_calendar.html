{% extends "core/settings/settings_base.html" %}
{% load settings_extras %}
{% load static %}
{% load crispy_forms_filters %}
{% load i18n %}

{% block settings_content %}
    <h3 class="mt-3">{% translate "Calendar" %}</h3>
    <p>
        {% blocktranslate trimmed %}
            You can use the URL below to integrate a feed of your participations into your calendar apps ("subscribe by URL").
            Read more in the <a href="https://docs.ephios.de/en/stable/user/integrations/calendar.html" target="_blank">user guide</a>.
        {% endblocktranslate %}
    </p>
    <div class="input-group mb-3">
        <input type="text" id="calendar-url" class="form-control" aria-label="calendar-url"
               value="{{ calendar_url }}"
               readonly>
        <button id="calendar-copy-btn" class="btn btn-outline-primary clipboard-button" type="button"
                data-clipboard-target="#calendar-url" data-trigger="manual"
                title="Copied!">{% translate "Copy" %}</button>
    </div>

    <form method="post">
        {% csrf_token %}
        <button type="submit" name="reset" value="1" class="btn btn-danger">
            {% translate "Reset calendar URL" %}
        </button>

    </form>

{% endblock %}

{% block javascript %}
    <script type="text/javascript" src="{% static "clipboardjs/js/clipboard.min.js" %}"></script>
    <script type="text/javascript" src="{% static "ephios/js/clipboard.js" %}"></script>
{% endblock %}
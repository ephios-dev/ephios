{% extends "base.html" %}
{% load utils %}
{% load user_extras %}
{% load static %}
{% load i18n %}

{% block title %}
    {% trans "Working hours" %}
{% endblock %}

{% block content %}
    <h1 class="page-header">
        {% trans "Working hours" %}
    </h1>
    <table id="userprofile_table" class="table table-striped display">
            <thead>
            <tr>
                <th>{% trans "Last name" %}</th>
                <th>{% trans "First name" %}</th>
                <th class="d-none d-lg-table-cell">{% trans "Working hours" %}</th>
                <th>{% trans "Action" %}</th>
            </tr>
            </thead>
            <tbody>
            {% for userprofile, workinghours in userprofiles %}
                <tr>
                    <td>{{ userprofile.last_name }}</td>
                    <td>{{ userprofile.first_name }}</td>
                    <td class="d-none d-lg-table-cell">{{ workinghours.0|timedelta_in_hours }}</td>
                    <td class="d-flex">
                        <a class="btn btn-secondary btn-sm text-nowrap"
                               href="{% url "core:workinghour_detail" userprofile.pk %}"><span
                                    class="fa fa-eye"></span> <span
                                    class="d-none d-md-inline">{% trans "View" %}</span></a>
                        {% if perms.core.grant_working_hours %}
                            <a class="btn btn-secondary btn-sm text-nowrap ms-1"
                               href="{% url "core:workinghour_add" userprofile.pk %}"><span
                                    class="fa fa-plus"></span> <span
                                    class="d-none d-md-inline">{% trans "Add" %}</span></a>
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
{% endblock %}
